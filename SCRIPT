local Rayfield = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Rayfield/main/source"))()
local lighting = game.Lighting

local function clearEffects()
	for _, v in ipairs({"BloomEffect", "SunRaysEffect", "ColorCorrectionEffect", "BlurEffect", "Sky"}) do
		local f = lighting:FindFirstChildWhichIsA(v)
		if f then f:Destroy() end
	end
end

local function applyLighting(level)
	clearEffects()
	if level == 1 then
		local color = Instance.new("ColorCorrectionEffect", lighting)
		color.Contrast = 0.1
		color.Saturation = 0
		color.TintColor = Color3.fromRGB(255,255,255)
		lighting.ExposureCompensation = 0
		lighting.ShadowSoftness = 0.5
		lighting.EnvironmentDiffuseScale = 0.2
		lighting.EnvironmentSpecularScale = 0.2
		lighting.Brightness = 1.5
		lighting.ColorShift_Top = Color3.fromRGB(100,100,100)
		lighting.OutdoorAmbient = Color3.fromRGB(120,120,120)
		lighting.GeographicLatitude = 90
		lighting.Ambient = Color3.fromRGB(110,110,110)
	elseif level == 2 then
		local color = Instance.new("ColorCorrectionEffect", lighting)
		color.Contrast = 0.2
		color.Saturation = 0.1
		color.TintColor = Color3.fromRGB(255,250,230)
		local bloom = Instance.new("BloomEffect", lighting)
		bloom.Intensity = 0.2
		bloom.Size = 18
		bloom.Threshold = 1.2
		lighting.ExposureCompensation = 0.15
		lighting.ShadowSoftness = 0.7
		lighting.EnvironmentDiffuseScale = 0.3
		lighting.EnvironmentSpecularScale = 0.4
		lighting.Brightness = 1.7
		lighting.ColorShift_Top = Color3.fromRGB(110,110,105)
		lighting.OutdoorAmbient = Color3.fromRGB(130,130,130)
		lighting.GeographicLatitude = 95
		lighting.Ambient = Color3.fromRGB(115,115,115)
	elseif level == 3 then
		local color = Instance.new("ColorCorrectionEffect", lighting)
		color.Contrast = 0.3
		color.Saturation = 0.2
		color.TintColor = Color3.fromRGB(255,252,224)
		local bloom = Instance.new("BloomEffect", lighting)
		bloom.Intensity = 0.5
		bloom.Size = 22
		bloom.Threshold = 1.5
		local sunrays = Instance.new("SunRaysEffect", lighting)
		sunrays.Intensity = 0.117
		sunrays.Spread = 1
		local blur = Instance.new("BlurEffect", lighting)
		blur.Size = 2
		Instance.new("Sky", lighting)
		lighting.ExposureCompensation = 0.34
		lighting.ShadowSoftness = 1
		lighting.EnvironmentDiffuseScale = 0.343
		lighting.EnvironmentSpecularScale = 1
		lighting.Brightness = 2
		lighting.ColorShift_Top = Color3.fromRGB(118,117,108)
		lighting.OutdoorAmbient = Color3.fromRGB(141,141,141)
		lighting.GeographicLatitude = 100
		lighting.Ambient = Color3.fromRGB(112,112,112)
	end
end

local window = Rayfield:CreateWindow({
	Name = "Lighting Preset Selector",
	LoadingTitle = "Rayfield UI",
	LoadingSubtitle = "By mafiaioso",
	ConfigurationSaving = {
		Enabled = false
	},
	Discord = {
		Enabled = false
	},
	KeySystem = false
})

Rayfield:Notify({
	Title = "Lighting Presets Loaded",
	Content = "Choose a performance level below",
	Duration = 5
})

window:CreateSlider({
	Name = "Performance Level",
	Range = {1, 3},
	Increment = 1,
	Suffix = "Level",
	CurrentValue = 2,
	Callback = function(value)
		applyLighting(value)
	end
})
